# ΕΡΓΑΣΤΗΡΙΟ 3

## Προγραμματιστικά Περιβάλλοντα (IDEs) και το Πρώτο Πρόγραμμα C

Στο εργαστήριο αυτό, θα ασχοληθούμε με δύο προγραμματιστικά περιβάλλοντα
για τη γλώσσα C: τον gcc μεταγλωττιστή της C σε περιβάλλον Linux, και
ένα ολοκληρωμένο περιβάλλον ανάπτυξης IDE, όπως το Dev-C++ για Windows ή
το Visual Studio Code (vscode) που είναι διαθέσιμο για διάφορα
λειτουργικά συστήματα. Επίσης, θα χρησιμοποιήσουμε και το πρόγραμμα
WinSCP για να μεταφέρουμε αρχεία από υπολογιστές Windows στον λογαριασμό
μας στην σχολή (και αντίστροφα). Τέλος, θα ασχοληθούμε με το πρώτο
πρόγραμμα μας σε γλώσσα C, το οποίο θα μεταγλωττίσουμε, θα εκτελέσουμε
και θα πειραματιστούμε με την έξοδό του.

## 1α. Το περιβάλλον προγραμματισμού Dev-C++

Στους λογαριασμούς των Windows συστημάτων της σχολής είναι διαθέσιμο το
IDE Dev-C++, ένα γραφικό περιβάλλον ανάπτυξης κώδικα που απλοποιεί τη
διαδικασία συγγραφής και μεταγλώττισης κώδικα (“αποκρύπτοντάς” μας την
ύπαρξη και λειτουργία του gcc μεταγλωττιστή). Μπορούμε να το
εγκαταστήσουμε στον προσωπικό μας υπολογιστή, κατεβάζοντας την τελευταία
έκδοση από εδώ:

<http://sourceforge.net/projects/orwelldevcpp/files/latest/download>

Γράφουμε Dev-C++ και εκτελούμε στην έναρξη ή επιλέγουμε το σχετικό
εικονίδιο από το μενού προγραμμάτων για να ανοίξουμε το περιβάλλον
προγραμματισμού Dev-C++.

<img src="img/media/image1.png"
style="width:6.975in;height:1.37014in" />

Για να δημιουργήσουμε ένα νέο αρχείο κώδικα, κάνουμε κλικ στο “File” -\>
“New” -\> “Source File”, ή στο εικονίδιο <img src="img/media/image2.png"
style="width:0.20556in;height:0.19097in" />.

<img src="img/media/image3.png"
style="width:3.30208in;height:0.93125in" />

Στο κέντρο της οθόνης δημιουργείται ένα κενό αρχείο με όνομα καρτέλας
“Untitled1” στο οποίο μπορούμε να πληκτρολογήσουμε τον κώδικα του πρώτου
προγράμματός μας!

Ας γράψουμε εδώ λοιπόν, το πρώτο μας πρόγραμμα C:

/\* File: helloworld.c \*/

\#include \<stdio.h\>

main()

{

printf("Hello world\\n");

}

Αφού ολοκληρώσουμε την πληκτρολόγηση, πρέπει να αποθηκεύσουμε το αρχείο
κώδικα στον δίσκο μας (το αστέρι στα αριστερά της καρτέλας υποδηλώνει
πως έχουν γίνει αλλαγές που δεν έχουν σωθεί).

<img src="img/media/image4.png"
style="width:2.57569in;height:1.41111in" />

Για να το αποθηκεύσουμε, επιλέγουμε “File” -\> “Save” ή το κουμπί
<img src="img/media/image5.png" style="width:0.15in;height:0.15in" />,
ώστε να ανοίξει το σχετικό παράθυρο διαλόγου. Εκεί, πρώτα πηγαίνουμε στη
λίστα “Save as type” και επιλέγουμε “C source files (\*.c)”. Έπειτα,
πλοηγούμαστε στη τοποθεσία (π.χ. Επιφάνεια Εργασίας) όπου μας ενδιαφέρει
να αποθηκεύσουμε το αρχείο. Τέλος, δίνουμε ένα κατάλληλο όνομα στο
αρχείο (π.χ. helloworld.c) και αποθηκεύουμε.

Για να μεταγλωττίσουμε το πρόγραμμα μας, επιλέγουμε “Execute” -\>
“Compile” ή πατάμε το F9, ή πατάμε το εικονίδιο
<img src="img/media/image6.png"
style="width:0.20556in;height:0.19097in" />. Αν το πρόγραμμα μας έχει
συντακτικά λάθη ή επισημάνσεις, τότε στο κάτω μέρος της οθόνης θα
εμφανίζονται σχετικά μηνύματα του μεταγλωττιστή, τα οποία περιγράφουν τη
φύση του προβλήματος και μας καθοδηγούν για την επίλυσή του. Αφού
εκτελέσουμε το μεταγλωττιστή, τότε θα εμφανιστούν μηνύματα όπως στην
ακόλουθη εικόνα.

<img src="img/media/image7.png"
style="width:4.53403in;height:2.78125in" />

Το πλαίσιο μας πληροφορεί για την ύπαρξη συντακτικού λάθους στην γραμμή
6, πριν το δεξί άγκιστρο. Όντως, πριν από αυτό το άγκιστρο έχουμε
ξεχάσει να πληκτρολογήσουμε το ερωτηματικό για να δηλώσουμε το τέλος της
εντολής. Υπάρχει περίπτωση, όπως με παλαιότερη έκδοση του λογισμικού, να
δούμε πιο γενικά μηνύματα λαθών, όπως απλά ‘Syntax error before “}”
token’.

Αμέσως λοιπόν μετά από μία επιτυχή μεταγλώττιση, για να εκτελέσουμε το
πρόγραμμά μας, επιλέγουμε “Execute” -\> “Run”. Τότε, ανοίγει ένα
παράθυρο του κελύφους εντολών των Windows (cmd.exe) στο οποίο
περιέχονται οι εκτυπώσεις εκτέλεσης του προγράμματός μας. Αφού το
πρόγραμμα ολοκληρώνεται με την εκτέλεση του μηνύματος, υπό κανονικές
συνθήκες το παράθυρο θα έκλεινε αυτόματα και άμεσα. Το Dev-C++ παρέχει
τη δυνατότητα εισαγωγής παύσης μετά το τερματισμό του προγράμματος,
μέχρι να πατηθεί οποιοδήποτε πλήκτρο.

<img src="img/media/image8.png"
style="width:3.15208in;height:1.39722in" />

Το Dev-C++ παρέχει πληθώρα διευκολύνσεων, όπως τη δημιουργία “project”
για τη διαχείριση πολλαπλών αρχείων πηγαίου κώδικα, οπτική αποσφαλμάτωση
του προγράμματός μας, προτάσεις αυτόματης συμπλήρωσης κλπ, τα οποία θα
δούμε σε επόμενα εργαστήρια.

## 1β. Το περιβάλλον προγραμματισμού Visual Studio Code

Στους λογαριασμούς των εργαστηρίων της σχολής είναι διαθέσιμο και το
Visual Studio Code, που επίσης αποτελεί ένα ολοκληρωμένο γραφικό
περιβάλλον ανάπτυξης κώδικα με διάφορες ευκολίες. Μπορούμε να το
εγκαταστήσουμε στον προσωπικό μας υπολογιστή, ακολουθώντας τις οδηγίες
που βρίσκονται εδώ:[^1]

<https://k08.chatzi.org/vscode/>

Προτού χρησιμοποιήσουμε το vscode για πρώτη φορά με το λογαριασμό μας
στο εργαστήριο του τμήματος, θα πρέπει να έχουμε εκτελέσει την παρακάτω
εντολή στη γραμμή εντολής του λογαριασμού μας μέσω κάποιου ssh client
όπως το PuTTY:

curl https://k08.chatzi.org/vscode/config.sh \| bash

Γράφουμε code και εκτελούμε στην έναρξη ή επιλέγουμε το σχετικό
εικονίδιο από το μενού προγραμμάτων για να ανοίξουμε το περιβάλλον
προγραμματισμού Visual Studio Code.

<img src="img/media/image9.png"
style="width:4.92778in;height:1.82083in" />

Για να συνδεθούμε με το λογαριασμό μας στο εργαστήριο Linux του
Τμήματος, πατάμε το γαλάζιο εικονίδιο στην κάτω αριστερή γωνία του
παραθύρου:

<img src="img/media/image10.png"
style="width:1.62986in;height:0.68472in" />

Στις επιλογές που θα ανοίξουν στην κορυφή του παραθύρου επιλέγουμε
“Connect to Host…” (Remote SSH):

<img src="img/media/image11.png"
style="width:4.275in;height:1.04167in" />

Στη συνέχεια πληκτρολογούμε το username μας ακολουθούμενο από @ και ένα
από τα μηχανήματα του εργαστηρίου και πατάμε enter:

<img src="img/media/image12.png"
style="width:4.32639in;height:0.87639in" />

Θα μας ζητήσει τον κωδικό του λογαριασμού μας στο εργαστήριο Linux και
ενδεχομένως, την πρώτη φορά που θα συνδεθούμε, αν εμπιστευόμαστε το
κλειδί του συγκεκριμένου μηχανήματος.

<img src="img/media/image13.png"
style="width:5.53542in;height:0.52083in" />

Αφότου βάλουμε τον κωδικό μας και πατήσουμε enter, θα πραγματοποιηθεί η
σύνδεση. Όσο είμαστε συνδεδεμένοι με το μηχάνημα του εργαστηρίου Linux,
αυτό θα εμφανίζεται στην κάτω αριστερή γωνία του παραθύρου στο γαλάζιο
πλαίσιο:

<img src="img/media/image14.png"
style="width:1.86181in;height:0.87569in" />

Από τις επιλογές του παραθύρου επιλέγουμε το “Open Folder…”. Σε
περίπτωση που δεν είναι ανοιχτό το Welcome screen, η επιλογή αυτή
υπάρχει και στο μενού File.

<img src="img/media/image15.png"
style="width:2.59028in;height:2.49097in" />

Πληκτρολογούμε η επιλέγουμε τον φάκελο Documents/c_programs που
βρίσκεται μέσα στον προσωπικό μας κατάλογο και πατάμε enter.

<img src="img/media/image16.png"
style="width:5.13958in;height:0.50694in" />

Ενδεχομένως να μας ζητηθεί αν εμπιστευόμαστε το περιεχόμενο που
βρίσκεται εκεί, πατάμε το “Yes, I trust the authors”

<img src="img/media/image17.png"
style="width:3.15208in;height:2.37014in" />

Στο περιβάλλον που θα ανοίξει μπορούμε να περιηγηθούμε και να
δοκιμάσουμε τα προγράμματά μας. Υπάρχουν κάποιες βασικές οδηγίες στο
README.md που καλό είναι να τις διαβάσουμε, καθώς και μια πληθώρα
ενδεικτικών προγραμμάτων από τις σημειώσεις του μαθήματος.

<img src="img/media/image18.png" style="width:5.2in;height:3.62986in" />

Για να μεταγλωττίσουμε και να τρέξουμε το πρόγραμμα μας, Ctrl-Shift-B.
Αν το πρόγραμμα μας έχει συντακτικά λάθη ή επισημάνσεις, τότε στο κάτω
μέρος της οθόνης θα εμφανίζονται σχετικά μηνύματα του μεταγλωττιστή, τα
οποία περιγράφουν τη φύση του προβλήματος και μας καθοδηγούν για την
επίλυσή του. Αφού εκτελέσουμε το μεταγλωττιστή, τότε θα εμφανιστούν
μηνύματα όπως στην ακόλουθη εικόνα.

<img src="img/media/image19.png"
style="width:5.25347in;height:3.66736in" />

Αντίστοιχα, αν το πρόγραμμά μας είναι σωστό, στην περιοχή του τερματικού
θα εμφανιστούν τα αποτελέσματα της εκτέλεσής του.

## 2. Η εφαρμογή WinSCP για μεταφορά αρχείων

Θα χρησιμοποιήσουμε την εφαρμογή WinSCP για την μεταφορά αρχείων από
υπολογιστές Windows στους υπολογιστές των εργαστηρίων UNIX της σχολής.
Με τον τρόπο αυτό, μπορούμε να χρησιμοποιούμε τον υπολογιστή μας, ή τους
υπολογιστές του εργαστηρίου Windows για να γράφουμε τα προγράμματά μας,
να μεταφέρουμε τα αρχεία μας στο Unix και τελικά να ελέγχουμε την ορθή
λειτουργία τους με χρήση του μεταγλωττιστή gcc, που είναι και η επίσημη
πλατφόρμα εξέτασης του μαθήματος.

Για να εκτελέσουμε το WinSCP, κάνουμε στα εργαστήρια της σχολής
Start-\>Run και πληκτρολογούμε WinSCP.

Από το σπίτι μας, μπορούμε να κατεβάσουμε το πρόγραμμα από την
διεύθυνση:

<http://sourceforge.net/projects/winscp/files/latest/download>

Εκτελώντας το πρόγραμμα βλέπουμε την ακόλουθη οθόνη:

<img src="img/media/image20.png"
style="width:5.61528in;height:3.61458in" />

όπου πληκτρολογούμε τα στοιχεία σύνδεσης μας δηλαδή:

-   Τον υπολογιστή που θα συνδεθούμε
    (<http://cgi.di.uoa.gr/~ip/linux_lab_machines.html>)

-   Το όνομα χρήστη

-   Τον κωδικό μας

Και πατάμε το πλήκτρο “Login” οπότε και εμφανίζεται η ακόλουθη οθόνη:

<img src="img/media/image21.png" style="width:6in;height:4.80625in" />

Στο αριστερό μέρος της οθόνης φαίνονται τα περιεχόμενα του τοπικού
καταλόγου μας και στο δεξί μέρος της οθόνης φαίνονται τα περιεχόμενα του
λογαριασμού μας της σχολής.

Έτσι, για να μεταφέρουμε αρχεία από τον υπολογιστή μας, στον λογαριασμό
της σχολής, επιλέγουμε πρώτα τα αρχεία από το αριστερό μέρος της οθόνης
και έπειτα πατάμε το πλήκτρο Copy ή πατάμε το πλήκτρο για συντόμευση F5.
Εμφανίζεται τότε το ακόλουθο μήνυμα:

<img src="img/media/image22.png"
style="width:4.94375in;height:1.31528in" />

Με αυτό το μήνυμα ζητείται η επιβεβαίωση μας για την μεταφορά του
αρχείου από τον τοπικό κατάλογο στον χώρο του λογαριασμού μας της
σχολής. Αν πατήσουμε “Copy” το αρχείο μεταφέρεται στον λογαριασμό μας.

Βεβαίως είναι εφικτό να ακολουθήσουμε και την αντίστροφη διαδικασία, για
να αντιγράψουμε αρχεία από τον λογαριασμό μας στην σχολή, στον τοπικό
δίσκο.

Για να το κάνουμε αυτό επιλέγουμε το αρχείο που μας ενδιαφέρει από το
δεξί τμήμα της οθόνης και πατάμε το κουμπί «Copy».

<img src="img/media/image23.png"
style="width:5.94514in;height:4.75625in" />

Και πατάμε «Copy» στο επιβεβαιωτικό παράθυρο που εμφανίζεται:

<img src="img/media/image24.png"
style="width:4.87361in;height:1.2875in" />

Το WinSCP μας παρέχει και άλλες πρόσθετες δυνατότητες που φαίνονται στο
κάτω μέρος της οθόνης:

<img src="img/media/image25.png"
style="width:6.86597in;height:0.65764in" />

όπως μετονομασία των αρχειων, δημιουργία καταλόγων, διαγραφή αρχείων και
καταλόγων κ.λ.π.

Όταν ολοκληρώσουμε τις εργασίες μας, πατάμε το κουμπι «Disconnect» για
να αποσυνδεθουμε.

**3. Μεταγλώττιση προγραμμάτων σε περιβάλλον Unix**

Κάνουμε login σε περιβάλλον Unix, όπου θα πρέπει να υπάρχει το αρχείο
helloworld.c που μόλις μεταφέραμε χρησιμοποιώντας το πρόγραμμα WinSCP.

1\. Μεταγλωττίστε το αρχείο helloworld.c με χρήση του gcc, ώστε να
παραγάγετε το εκτελέσιμο αρχείο helloworld.

2\. Εκτελέστε το πρόγραμμα helloworld.

Ας ρίξουμε τώρα μια πιο εκτενή ματιά στο πρόγραμμα helloworld.c.

/\* File: helloworld.c \*/

\#include \<stdio.h\>

main()

{

printf("Hello world\\n");

}

Επεξηγήσεις:

<table>
<colgroup>
<col style="width: 2%" />
<col style="width: 97%" />
</colgroup>
<tbody>
<tr class="odd">
<td></td>
<td><p>Η συνάρτηση printf() εμφανίζει στην οθόνη την συμβολοσειρά που
δέχεται σαν όρισμα.</p>
<p>Το ‘\n’ είναι ο χαρακτήρας αλλαγής γραμμής.</p></td>
</tr>
</tbody>
</table>

4\. Τροποποιείστε την συμβολοσειρά που δέχεται η printf() σαν όρισμα,
ώστε η έξοδος που εμφανίζεται στην οθόνη να είναι:

Hello

world

5\. Χρησιμοποιείστε μία δεύτερη printf() για να έχετε την εξής έξοδο στο
πρόγραμμά σας:

Hello

world

at

d.i.t.

## ΠΑΡΑΡΤΗΜΑ: Αποσφαλμάτωση προγραμμάτων (Πράξη 1<sup>η</sup>)

Όταν καλούμαστε να δημιουργήσουμε ένα πρόγραμμα για τη λύση ενός
προβλήματος είναι σχεδόν απίθανο να είναι σωστό εξ αρχής. Οποιοσδήποτε,
όσο έμπειρος κι αν είναι, θα έχει στο πρόγραμμά του λάθη, τα ονομαζόμενα
bugs, τα οποία μπορεί να μην επιτρέπουν τη μεταγλώττιση του προγράμματος
ή/και να το κάνουν να μη δουλεύει με τον επιθυμητό τρόπο. Στο σημερινό
εργαστήριο θα εστιάσουμε στα συντακτικά λάθη, τα οποία αποτελούν μία
μορφή τέτοιων σφαλμάτων, και θα δούμε χρήσιμες τεχνικές για την εύρεση
και τη διόρθωσή τους.

### Συντακτικά λάθη

Ένα συντακτικό λάθος είναι, όπως υπαγορεύει και το όνομά του, ένα λάθος
στη σύνταξη του προγράμματός μας. Για να καταλάβει ο μεταγλωττιστής τα
προγράμματά μας πρέπει να είναι γραμμένα με έναν πολύ αυστηρό τρόπο.
Οποιαδήποτε παράλειψη σε αυτόν τον αυστηρό τρόπο σύνταξης θα έχει ως
αποτέλεσμα την αποτυχία της μεταγλώττισης.

Συχνά συντακτικά λάθη είναι η παράλειψη κάποιας παρένθεσης, το μη
κλείσιμο κάποιας αγκύλης, η χρήση μιας μεταβλητής που δεν έχουμε
δηλώσει, κλπ. Ας δούμε ένα παράδειγμα:

\#include \<stdio.h\>

main() {

printf(“Hello world!\\n);

}

Αν δώσουμε τον παραπάνω κώδικα προς μεταγλώττιση θα πάρουμε το εξής
σφάλμα

4 missing terminating " character

5 syntax error before '}' token

Αυτό μας πληροφορεί ότι υπάρχει ένα σφάλμα στη γραμμή 4, το οποίο είναι
ότι λείπει ένας χαρακτήρας “, καθώς και ότι υπάρχει ένα συντακτικό λάθος
στη γραμμή 5 πριν το }.

Ας δούμε πρώτα το σφάλμα στη γραμμή 4. Με βάση αυτό, έχουμε παραλείψει
ένα χαρακτήρα “. Όντως, αν το κοιτάξουμε καλά, λείπει το κλείσιμο του “
στη συμβολοσειρά Hello world!\\n. Φτιάχνοντας αυτό, αυτόματα φεύγει και
το δεύτερο λάθος, το οποίο φανταστήκαμε ότι σχετίζεται με το πρώτο, αφού
πριν το } στη γραμμή 5 είναι η γραμμή 4, στην οποία ήδη έχουμε υπόψη μας
ένα σφάλμα.

Πειραματιστείτε με το παραπάνω πρόγραμμα για να δείτε τα διάφορα
συντακτικά λάθη που μπορεί να δημιουργηθούν. Αφαιρέστε το τελικό
ερωτηματικό στη συνάρτηση printf, αφαιρέστε το f απ' το printf, γράψτε
λάθος το όνομα της main, ξεχάστε το \# στο include και ό,τι άλλο
σκεφτείτε. Δείτε τα μηνύματα που σας δίνει ο μεταγλωττιστής και
προσπαθήστε να καταλάβετε πως σχετίζονται με αυτό που κάνατε. Ήταν όλα
τα μηνύματα που σας έβγαλε κατατοπιστικά;

**Τεχνικές εύρεσης και διόρθωσης συντακτικών λαθών**

Όπως είδαμε και στο προηγούμενο παράδειγμα, τα συντακτικά λάθη είναι
εύκολο να τα ανακαλύψουμε αν διαβάσουμε τα μηνύματα του μεταγλωττιστή.
Αυτή είναι και η βασική τακτική που χρησιμοποιούμε για να τα εντοπίσουμε
και να τα διορθώσουμε. Κάθε μήνυμα του μεταγλωττιστή θα αναφέρει τη
γραμμή όπου υπάρχει το συντακτικό λάθος καθώς και μια περιγραφή του. Από
αυτά τα δύο στοιχεία μπορούμε, τις περισσότερες φορές, να βρούμε το
συντακτικό λάθος.

Ας δούμε όμως, το επόμενο παράδειγμα:

\#include \<stdio.h\>

main() {

printf(“Hello world!\\n”);

Αν δώσουμε τον παραπάνω κώδικα προς μεταγλώττιση θα πάρουμε το εξής
σφάλμα

4 syntax error at end of input

Το οποίο μας λέει ότι υπάρχει ένα συντακτικό λάθος στη γραμμή 4 χωρίς
καμία επιπλέον υπόδειξη. Το λάθος είναι ότι δεν έχουμε κλείσει την
αγκύλη της main, οπότε ίσως να αναμέναμε κάτι σαν “syntax error, bracket
needed”.

Οπότε, είναι εμφανές ότι το να βασιζόμαστε μόνο στα μηνύματα του
μεταγλωττιστή για να διορθώσουμε τα συντακτικά λάθη δεν είναι μια
τακτική που αποδίδει πάντα. Αυτό που χρειάζεται είναι εμπειρία ώστε να
αποκτηθεί εξοικείωση με τα διάφορα συντακτικά λάθη, αλλά και προσοχή
κατά τη συγγραφή του κώδικα ώστε να αποφεύγουμε επιπολαιότητες.

[^1]: Οι οδηγίες εγκατάστασης του vs code είναι υλικό που αναπτύχθηκε
    για το μάθημα Δομές δεδομένων από τον καθ. Κωνσταντίνο Χατζηκοκολάκη
